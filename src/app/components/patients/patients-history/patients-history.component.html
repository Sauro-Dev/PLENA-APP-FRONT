<div class="space-y-6">
  <h1 class="text-3xl font-bold mb-6 text-center text-blue-800">
    Historial del Paciente
  </h1>
</div>

<div *ngIf="isLoading" class="text-center">
  <p>Cargando historial del paciente...</p>
</div>

<div *ngIf="!isLoading && patient && history" class="space-y-4">
  <h2 class="text-2xl font-semibold">Información del Paciente</h2>
  <p><strong>Nombre:</strong> {{ patient.name }}</p>
  <p><strong>Edad:</strong> {{ patient.age }}</p>
  <p><strong>Género:</strong> {{ patient.gender }}</p>

  <h2 class="text-2xl font-semibold mt-4">Historial Médico</h2>
  <ul>
    <li *ngFor="let record of history">
      <p><strong>Fecha:</strong> {{ record.date }}</p>
      <p><strong>Descripción:</strong> {{ record.description }}</p>
    </li>
  </ul>
</div>

<div *ngIf="!isLoading && (!patient || !history)" class="text-center">
  <p>No se encontró el historial del paciente.</p>
</div>

<!-- Contenedor central -->
<div class="container mx-auto mt-8">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-20">
    <!-- Documentos de Evaluación -->
    <div class="border p-4 rounded-lg shadow-md relative">
      <div class="flex justify-center items-center mb-4">
        <h2 class="text-xl font-semibold">Documentos de Evaluación</h2>
      </div>
      <button class="bg-blue-500 text-white px-4 py-2 rounded absolute right-4 top-4" (click)="addDocument()">Agregar</button>
      <!-- Tabla de documentos de evaluación -->
      <table class="min-w-full divide-y divide-gray-200 border border-gray-300">
        <thead>
        <tr>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descripción</th>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tipo de Documento</th>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acción</th>
        </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let document of documents">
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">{{ document.name }}</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">{{ document.description }}</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">{{ document.documentType }}</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">
            <button class="text-blue-600 hover:text-blue-900" (click)="downloadDocument(document.id)">Descargar</button>
            <button class="text-blue-600 hover:text-blue-900" (click)="getDocumentById(document.id)">Ver</button>
          </td>
          <!-- Documento de ejemplo añadido directamente en el HTML -->
        <tr>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">Documento de Ejemplo</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">Descripción del documento de ejemplo</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">Tipo de Ejemplo</td>
          <td class="px-6 py-4 whitespace-nowrap border-t border-gray-300">
            <button class="text-blue-600 hover:text-blue-900">Descargar</button>
            <button class="text-blue-600 hover:text-blue-900">Ver</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Reportes -->
    <div class="border p-4 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold mb-4 text-center">Reportes</h2>
      <!-- Tabla de reportes -->
      <table class="min-w-full divide-y divide-gray-200">
        <thead>
        <tr>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Reporte</th>
          <th class="px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha</th>
        </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
        <tr>
          <td class="px-6 py-4 whitespace-nowrap">Reporte 1</td>
          <td class="px-6 py-4 whitespace-nowrap">01/01/2023</td>
        </tr>
        <tr>
          <td class="px-6 py-4 whitespace-nowrap">Reporte 2</td>
          <td class="px-6 py-4 whitespace-nowrap">02/01/2023</td>
        </tr>
        <tr>
          <td class="px-6 py-4 whitespace-nowrap">Reporte 3</td>
          <td class="px-6 py-4 whitespace-nowrap">03/01/2023</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
