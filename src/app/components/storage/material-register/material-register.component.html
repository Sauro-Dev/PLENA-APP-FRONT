<section class="flex flex-col items-center mt-12 w-full max-w-4xl mx-auto">
  <form [formGroup]="registerForm" (ngSubmit)="openRegisterModal()">
    <!-- Contenedor principal del formulario -->
    <div class="border border-gray-300 rounded-lg p-8 shadow-lg w-full flex flex-col items-center">
      <!-- Título "Registrar Material" -->
      <h1 class="text-3xl font-bold mb-8 text-center text-blue-900 w-full">Registrar Material</h1>

      <!-- Campo Nombre -->
      <div class="mb-6 w-full relative border rounded-lg shadow-sm focus-within:ring focus-within:ring-blue-500">
        <label for="nombre" class="absolute -top-4 left-4 bg-white px-1 text-sm font-medium text-gray-500">Nombre</label>
        <div class="flex items-center px-4 py-3 space-x-3">
          <i class="ti ti-id text-2xl text-gray-500"></i>
          <input
            id="nombre"
            type="text"
            class="flex-1 border-none bg-transparent text-gray-800 outline-none placeholder-gray-400"
            formControlName="nombre"
            placeholder="Ej. Material A"
            [ngClass]="{ 'border-red-500': registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched }"
          />
        </div>
        <p class="mt-1 text-sm text-red-600 px-4" *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched">
          El nombre es requerido.
        </p>
      </div>

      <!-- Campo Estado -->
      <div class="mb-6 w-full relative border rounded-lg shadow-sm focus-within:ring focus-within:ring-blue-500">
        <label for="estado" class="absolute -top-4 left-4 bg-white px-1 text-sm font-medium text-gray-500">Estado</label>
        <div class="px-4 py-3">
          <select
            id="estado"
            class="w-full border-none bg-transparent text-gray-800 outline-none"
            formControlName="estado"
            [ngClass]="{ 'border-red-500': registerForm.get('estado')?.invalid && registerForm.get('estado')?.touched }">
            <option value="" disabled>Seleccione un estado</option>
            <option *ngFor="let status of estados" [value]="status">{{ status }}</option>
          </select>
        </div>
        <p class="mt-1 text-sm text-red-600 px-4" *ngIf="registerForm.get('estado')?.invalid && registerForm.get('estado')?.touched">
          El estado es requerido.
        </p>
      </div>

      <!-- Campo Stock -->
      <div class="mb-6 w-full relative border rounded-lg shadow-sm focus-within:ring focus-within:ring-blue-500">
        <label for="stock" class="absolute -top-4 left-4 bg-white px-1 text-sm font-medium text-gray-500">Stock</label>
        <div class="px-4 py-3">
          <input
            id="stock"
            type="number"
            class="w-full border-none bg-transparent text-gray-800 outline-none placeholder-gray-400"
            formControlName="stock"
            placeholder="Stock"
            min="0"
          />
        </div>
        <p class="mt-1 text-sm text-red-600 px-4" *ngIf="registerForm.get('stock')?.invalid && registerForm.get('stock')?.touched">
          El stock no puede ser negativo.
        </p>
      </div>

      <!-- Campo ¿Es Completo? -->
      <div class="mb-6 w-full flex items-center border rounded-lg shadow-sm p-3 focus-within:ring focus-within:ring-blue-500">
        <i class="ti ti-check text-2xl text-gray-500 mr-3"></i>
        <label for="esCompleto" class="font-medium text-gray-700">¿Es Completo?</label>
        <input id="esCompleto" type="checkbox" class="ml-auto w-6 h-6 align-middle border-gray-400" formControlName="esCompleto" />
      </div>

      <!-- Campo ¿Es de Soporte? -->
      <div class="mb-6 w-full flex items-center border rounded-lg shadow-sm p-3 focus-within:ring focus-within:ring-blue-500">
        <i class="ti ti-help text-2xl text-gray-500 mr-3"></i>
        <label for="esSoporte" class="font-medium text-gray-700">¿Es de Soporte?</label>
        <input id="esSoporte" type="checkbox" class="ml-auto w-6 h-6 align-middle border-gray-400" formControlName="esSoporte" />
      </div>

      <!-- Campo Descripción -->
      <div class="mb-6 w-full relative border rounded-lg shadow-sm focus-within:ring focus-within:ring-blue-500">
        <label for="descripcion" class="absolute -top-4 left-4 bg-white px-1 text-sm font-medium text-gray-500">Descripción</label>
        <div class="px-4 py-3">
          <textarea
            id="descripcion"
            class="w-full border-none bg-transparent text-gray-800 outline-none placeholder-gray-400"
            formControlName="descripcion"
            placeholder="Descripción"
          ></textarea>
        </div>
      </div>

      <!-- Botones -->
      <div class="flex flex-col items-center gap-4 mt-8 md:flex-row md:justify-center">
        <!-- Botón Guardar -->
        <button
          type="submit"
          class="bg-blue-600 hover:bg-blue-700 text-white flex justify-center items-center px-6 py-3 rounded-lg text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition"
          [disabled]="registerForm.invalid"
        >
          Guardar
        </button>
        <!-- Botón Cancelar -->
        <button
          type="button"
          (click)="openCancelModal()"
          class="bg-gray-300 hover:bg-gray-400 text-gray-800 flex justify-center items-center px-6 py-3 rounded-lg text-lg font-medium transition"
        >
          Cancelar
        </button>
      </div>
    </div>

    <!-- Modal Confirmar Registro -->
    <div *ngIf="showRegisterModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50">
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h3 class="text-xl font-bold text-blue-800 mb-4">Confirmar Registro</h3>
        <p class="text-gray-700 mb-6">¿Estás seguro de que deseas registrar este material?</p>
        <div class="flex justify-end space-x-4">
          <button
            (click)="confirmRegister()"
            class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
          >
            Sí, Registrar
          </button>
          <button
            (click)="closeRegisterModal()"
            class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal Confirmar Cancelación -->
    <div *ngIf="showCancelModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50">
      <div class="bg-white p-6 rounded-lg shadow-lg w-96">
        <h3 class="text-xl font-bold text-red-800 mb-4">Confirmar Cancelación</h3>
        <p class="text-gray-700 mb-6">¿Estás seguro de que deseas cancelar el registro?</p>
        <div class="flex justify-end space-x-4">
          <button
            (click)="confirmCancel()"
            class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
          >
            Sí, Cancelar
          </button>
          <button
            (click)="closeCancelModal()"
            class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400"
          >
            Volver
          </button>
        </div>
      </div>
    </div>
  </form>
</section>
