<!-- Contenedor principal con fondo gradiente -->
<div class="container mx-auto p-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-2xl mt-12">
  <!-- Título responsivo -->
  <h1 class="text-3xl md:text-5xl font-semibold text-center text-blue-900 mb-6 md:mb-12">
    Gestión de Áreas de Intervención
  </h1>

  <!-- Sección de botones de acción -->
  <div class="flex flex-col sm:flex-row justify-end items-center gap-4 mb-8">
    <button
      [routerLink]="'/areas/areas-register'"
      class="w-full sm:w-auto flex items-center justify-center bg-blue-700 text-white px-6 py-3 rounded-lg text-lg font-semibold shadow-md hover:bg-blue-800 hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out transform">
      <i class="fas fa-plus-circle mr-2"></i> Agregar Área
    </button>

    <button
      (click)="openDisabledAreasModal()"
      class="w-full sm:w-auto flex items-center justify-center bg-red-700 text-white px-6 py-3 rounded-lg text-lg font-semibold shadow-md hover:bg-red-800 hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out transform">
      <i class="fas fa-ban mr-2"></i> Ver Áreas Deshabilitadas
    </button>
  </div>

  <app-disabled-intervention-areas-modal
    *ngIf="showDisabledAreasModal"
    (closeModal)="closeDisabledAreasModal()">
  </app-disabled-intervention-areas-modal>

  <!-- Filtros y búsqueda -->
  <div class="bg-white p-6 rounded-xl shadow-md mb-8">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
      <!-- Campo de búsqueda -->
      <div class="md:col-span-3">
        <label for="buscar" class="block text-lg font-medium text-gray-700 mb-2">Buscar:</label>
        <div class="relative">
          <input
            id="buscar"
            type="text"
            class="border border-gray-300 rounded-xl w-full md:w-1/2 py-3 pl-14 pr-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
            [(ngModel)]="searchQuery"
            (input)="onSearch()"
            placeholder="Buscar por nombre"
          />
          <i class="fas fa-search text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"></i>
        </div>
      </div>

      <!-- Selector de cantidad de items -->
      <div>
        <label for="itemsPerPage" class="block text-lg font-medium text-gray-700 mb-2">Mostrar:</label>
        <select
          id="itemsPerPage"
          class="border border-gray-300 rounded-xl w-full px-4 py-3 focus:ring-2 focus:ring-blue-500"
          [(ngModel)]="itemsPerPage"
          (change)="paginate()">
          <option value="10">10 áreas</option>
          <option value="20">20 áreas</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Grid de Áreas -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    <!-- Tarjeta de área -->
    <div
      *ngFor="let area of filteredAreas"
      class="bg-white shadow-lg rounded-2xl p-6 flex flex-col justify-between transition-transform duration-200 hover:scale-[1.03] space-y-4"
    >
      <!-- Indicador de estado -->
      <div class="flex justify-center">
        <div
          class="w-8 h-8 rounded-full"
          [ngClass]="{
            'bg-green-500': area.enabled,
            'bg-red-500': !area.enabled
          }">
        </div>
      </div>

      <!-- Nombre del área -->
      <h3 class="text-xl font-semibold text-blue-800 text-center">
        {{ area.name }}
      </h3>

      <hr class="border-gray-300">

      <!-- Información del área -->
      <div class="space-y-3">
        <div class="flex items-start gap-3">
          <i class="ti ti-align-left text-lg text-blue-700 mt-1 flex-shrink-0"></i>
          <div>
            <span class="font-medium text-gray-600"></span>
            <p class="text-gray-800">
              {{ area.description | slice: 0:60 }}{{ area.description.length > 60 ? '...' : '' }}
            </p>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <i class="ti ti-toggle-right text-lg text-blue-700"></i>
          <div>
            <span class="font-medium text-gray-600">Estado:</span>
            <span
              class="ml-2"
              [ngClass]="{
                'text-green-600 font-semibold': area.enabled,
                'text-red-600 font-semibold': !area.enabled
              }">
              {{ area.enabled ? 'Habilitada' : 'Deshabilitada' }}
            </span>
          </div>
        </div>
      </div>

      <!-- Botón de acción -->
      <a
        [routerLink]="['./edit', area.id]"
        class="block w-full bg-blue-100 text-blue-700 px-4 py-2 text-center text-base font-medium rounded-xl hover:bg-blue-200 transition-colors duration-200"
      >
        Editar Detalles
      </a>
    </div>
  </div>

  <!-- Mensaje cuando no hay resultados -->
  <div *ngIf="filteredAreas.length === 0"
       class="text-center text-gray-500 mt-8 text-xl p-8 bg-white rounded-xl shadow">
    No se encontraron áreas de intervención.
  </div>

  <!-- Paginación -->
  <div class="flex justify-center items-center mt-8 gap-2">
    <button
      class="bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300 ease-in-out"
      (click)="goToPage(1)"
      [disabled]="currentPage === 1">
      <i class="fas fa-angle-double-left"></i>
    </button>
    <button
      class="bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300 ease-in-out"
      (click)="goToPage(currentPage - 1)"
      [disabled]="currentPage === 1">
      <i class="fas fa-angle-left"></i>
    </button>

    <span class="px-4 py-2 text-gray-700 bg-gray-200 rounded-lg">
      {{ currentPage }}
    </span>

    <button
      class="bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300 ease-in-out"
      (click)="goToPage(currentPage + 1)"
      [disabled]="currentPage >= Math.ceil(filteredAreas.length / itemsPerPage)">
      <i class="fas fa-angle-right"></i>
    </button>
    <button
      class="bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition duration-300 ease-in-out"
      (click)="goToPage(Math.ceil(filteredAreas.length / itemsPerPage))"
      [disabled]="currentPage >= Math.ceil(filteredAreas.length / itemsPerPage)">
      <i class="fas fa-angle-double-right"></i>
    </button>
  </div>
</div>
